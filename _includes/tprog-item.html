{% if paper.link   and paper.link != ""  %}{% assign has_link   = true %}{% else %}{% assign has_link   = nil %}{% endif %}
{% if paper.slides and paper.slides != "" %}{% assign has_slides = true %}{% else %}{% assign has_slides = nil %}{% endif %}
{% if paper.video  and paper.video != "" %}{% assign has_video  = true %}{% else %}{% assign has_video  = nil %}{% endif %}
  
{% comment %}<!-- make space for the button(s) -->{% endcomment %}
{% if has_link or  has_slides %}{% assign item_style = 'style="width: 85%"' %}{% endif %}{%
   if has_link and has_slides %}{% assign item_style = 'style="width: 78%"' %}{% endif %}{%
   if has_link and has_slides and has_video %}{% assign item_style = 'style="width: 70%"' %}{% endif %}

<div class="list-group-item">
  <h5>
    {% if paper.time and paper.time != "" %}
      {{ paper.time }}&nbsp;&nbsp;&nbsp;
    {% endif %}
    {{ paper.title }}
  </h5>
  {% if has_link %}<a href="{{ paper.link }}"><span class="pull-right clickable label label-primary">Paper</span></a>{% endif %}
  {% if has_slides %}<a href="{{ paper.slides }}"><span class="pull-right clickable label label-primary">Slides</span></a>{% endif %}
  <!-- /* the spaces after various "%s" below are important for correct list filtering! */ -->
  <p>{{ paper.authors | replace_regex: '\(([^\)]*)\)', '<em>(\1)</em>'}}</p>
  {% comment %}
  <div class="ui-li-aside-item">
      {% if has_link %}
        <div class="button-paper">      
          <a href="{{ paper.link }}" rel="external" target="_blank" class="ui-link">Paper</a>
        </div>
      {% endif %}
      {% if has_slides %}
        <div class="button-paper">      
          <a href="{{ paper.slides }}" rel="external" target="_blank" class="ui-link">Slides</a>
        </div>
      {% endif %}
      {% if has_video %}
        <div class="button-paper">      
          <a href="{{ paper.video }}" rel="external" target="_blank" class="ui-link">Video</a>
        </div>
      {% endif %}
  </div>
  {% endcomment %}
</div>
